{"ast":null,"code":"var _jsxFileName = \"/Users/novelistchan/Documents/Form-Antd-Test/src/components/form/components/fields/ArrayField.js\";\nimport React from 'react';\nimport utils from '../utils';\nimport Package from '../Package';\nimport { Table, Divider, Tag, Button } from 'antd';\nexport default function (props) {\n  const schema = props.schema,\n        formData = props.formData,\n        global = props.global,\n        onChange = props.onChange;\n\n  const changeHandler = (data, index) => {\n    let value = formData.map((v, i) => i === index ? data : v);\n    onChange(value);\n  };\n\n  const upHandler = index => {\n    let value = formData;\n    var temp = value[index];\n    value[index] = value[index - 1];\n    value[index - 1] = temp;\n    onChange(value);\n  };\n\n  const downHandler = index => {\n    let value = formData;\n    var temp = value[index];\n    value[index] = value[index + 1];\n    value[index + 1] = temp;\n    onChange(value);\n  };\n\n  const deleteHandler = index => {\n    let value = formData;\n    value.splice(index, 1);\n    onChange(value);\n  };\n\n  const addHandler = _ => {\n    let value = formData;\n    value.push(schema.items.default || utils.default(schema.items.type));\n    onChange(value);\n  };\n\n  const items = formData.map((data, index) => React.createElement(\"div\", {\n    key: index,\n    className: \"item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Package, {\n    schema: schema.items,\n    formData: data,\n    global: global,\n    onChange: data => changeHandler(data, index),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: _ => upHandler(index),\n    disabled: index === 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"UP\"), React.createElement(Button, {\n    onClick: _ => downHandler(index),\n    disabled: index === formData.length - 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"DOWN\"), React.createElement(Button, {\n    onClick: _ => deleteHandler(index),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"DEL\")));\n  return React.createElement(\"div\", {\n    className: \"field array\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, items, React.createElement(Button, {\n    onClick: addHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Add\"));\n}","map":{"version":3,"sources":["/Users/novelistchan/Documents/Form-Antd-Test/src/components/form/components/fields/ArrayField.js"],"names":["React","utils","Package","Table","Divider","Tag","Button","props","schema","formData","global","onChange","changeHandler","data","index","value","map","v","i","upHandler","temp","downHandler","deleteHandler","splice","addHandler","_","push","items","default","type","length"],"mappings":"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","sourcesContent":["import React from 'react'\nimport utils from '../utils'\nimport Package from '../Package'\nimport { Table, Divider, Tag, Button } from 'antd'\n\nexport default function (props) {\n  const { schema, formData, global, onChange } = props\n\n  const changeHandler = (data, index) => {\n    let value = formData.map((v, i) => i === index ? data : v)\n    onChange(value)\n  }\n\n  const upHandler = index => {\n    let value = formData\n    var temp = value[index]\n    value[index] = value[index - 1]\n    value[index - 1] = temp\n    onChange(value)\n  }\n\n  const downHandler = index => {\n    let value = formData\n    var temp = value[index]\n    value[index] = value[index + 1]\n    value[index + 1] = temp\n    onChange(value)\n  }\n\n  const deleteHandler = index => {\n    let value = formData\n    value.splice(index, 1)\n    onChange(value)\n  }\n\n  const addHandler = _ => {\n    let value = formData\n    value.push(schema.items.default || utils.default(schema.items.type))\n    onChange(value)\n  }\n\n  const items = formData.map((data, index) => (\n    <div key={index} className=\"item\">\n      <Package schema={schema.items} formData={data} global={global} onChange={data => changeHandler(data, index)} />\n      <Button onClick={_ => upHandler(index)} disabled={index === 0}>UP</Button>\n      <Button onClick={_ => downHandler(index)} disabled={index === formData.length - 1}>DOWN</Button>\n      <Button onClick={_ => deleteHandler(index)}>DEL</Button>\n    </div>\n  ))\n\n  return (\n    <div className=\"field array\">\n      {items}\n      <Button onClick={addHandler}>Add</Button>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}